$schema: https://azuremlschemas.azureedge.net/promptflow/latest/Flow.schema.json
inputs:
  extracted_text:
    type: string
    description: "Pre-extracted text from CV file"
  candidate_data:
    type: object
    description: "Basic candidate information"
outputs:
  extracted_info:
    type: object
    reference: ${cv_analyzer.output}
  generated_questions:
    type: object
    reference: ${question_generator.output}
nodes:
- name: cv_analyzer
  type: llm
  source:
    type: code
    path: cv_analyzer_prompt.jinja2
  inputs:
    extracted_text: ${inputs.extracted_text}
    deployment_name: gpt-4
    max_tokens: 4000
    temperature: 0.1
  connection: azure_openai_connection
  api: chat
- name: question_generator
  type: llm
  source:
    type: code
    path: question_generator_prompt.jinja2
  inputs:
    cv_analysis: ${cv_analyzer.output}
    candidate_data: ${inputs.candidate_data}
    deployment_name: gpt-4
    max_tokens: 1000
    temperature: 0.3
  connection: azure_openai_connection
  api: chat
environment:
  python_requirements_txt: requirements.txt

$schema: https://azuremlschemas.azureedge.net/promptflow/latest/Flow.schema.json
environment:
  python_requirements_txt: requirements.txt
inputs:
  cv_text:
    type: string
    default: ""
  candidate_info:
    type: object
    default: {}
outputs:
  cv_analysis_result:
    type: object
    reference: ${cv_analyzer.output}
nodes:
  - name: cv_analyzer
    type: llm
    source:
      type: code
      path: cv_analyzer.jinja2
    inputs:
      deployment_name: gpt-4.1
      temperature: 0.1
      top_p: 1
      max_tokens: 1000
      cv_text: ${inputs.cv_text}
      candidate_info: ${inputs.candidate_info}
    connection: azure_openai_connection
    api: chat
